/*******************************************************************************
 * @filename: 
 * @Author	: 
 * @Date	: 
 * @Email	: 
 ******************************************************************************/
#ifndef SERIAL_H_
#define SERIAL_H_

/******************************************************************************/
/*                               INCLUDE                                      */
/******************************************************************************/
#include "stm32f10x.h"
/******************************************************************************/
/*                             PUBLIC TYPEDEF                                 */
/******************************************************************************/
typedef enum
{
    Serial_Debug    = 1,
    Serial_Wifi     = 2,
    Serial_PLC      = 3,
}USARTx_t;
typedef enum
{
	SERIAL_BAUDRATE_115200 = 115200UL,
	SERIAL_BAUDRATE_460800 = 460800UL,
	SERIAL_BAUDRATE_921600 = 921600UL
}baudrate_t;

typedef void (*serial_callback_t)(uint8_t byte);

typedef struct
{
    USARTx_t          usart;       
	baudrate_t        baudrate;
	serial_callback_t callback;
}serial_t;



/******************************************************************************/
/**!                            PUBLIC SYMBOLS                                */
/******************************************************************************/

/******************************************************************************/
/**!                          PUBLIC VARIABLES                                */
/******************************************************************************/

/******************************************************************************/
/**!                          INLINE FUNCTIONS                                */
/******************************************************************************/

/******************************************************************************/
/**!                    PUBLIC FUNCTIONS PROTOTYPES                           */
/******************************************************************************/
void Serial_Init(serial_t* serial);
void Serial_SendByte(uint8_t byte);
void Serial_Send(uint8_t* ptr, int len);
int Serial_Available(void);
uint8_t Serial_ReadRxBuffer(void);
#endif 
/******************************************************************************/
/**!                           END OF FILE                                    */
/******************************************************************************/
